@model IEnumerable<QuanLyCuaHangCoffee.Models.EF.PurchaseHisotry>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .user-infor-text {
        text-align: left;
        font-size: 28px;
        margin-bottom: 16px;
    }
    .user-history-text {
        text-align: left;
        font-size: 18px;
        margin-bottom: 16px;
    }
    .overflow-ellipsis {
        white-space: nowrap;  /* Ngăn chữ tràn dòng */
        overflow: hidden;     /* Ẩn chữ vượt quá giới hạn */
        text-overflow: ellipsis; /* Hiển thị dấu "..." khi chữ vượt quá */       
    }
</style>

<div class="container" style="margin-top: 16rem">
    <h2 class="user-infor-text">Lịch sử mua hàng</h2>
    @if (Model != null && Model.Any())
    {
        foreach (var items in Model)
        {
            <h5 class="user-history-text">Ngày mua: @items.NgayMua</h5>
            <div class="card mb-12" style="border: none; margin-bottom: 20px">
                <div class="row g-0">
                    <div class="col-md-2">
                        <a href="/sanpham/detail/@items.IDSanPham"><img src="@items.SanPham.HinhAnhSP" class="img-fluid rounded-start"></a>                       
                    </div>
                    <div class="col-md-10">
                        <div class="card-body">
                            <h3 class="card-title">@items.SanPham.TenSP</h3>
                            <p class="card-text overflow-ellipsis">@items.SanPham.Mota</p>
                            <h3 class="card-title" style="color: ">@items.SanPham.GiaBan</h3>
                            <p class="card-text"><small class="text-body-secondary">x @items.SoLuong</small></p>
                            <a href="/ShoppingCart/AddToCart/@items.IDSanPham" class="btn btn-success">Mua lại</a>
                        </div>
                    </div>
                </div>
            </div>
        }
    }
    else
    {
        <h3>Bạn chưa mua sản phẩm nào</h3>
    }
</div>

@*<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Username)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.NgayMua)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SoLuong)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TongTien)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SanPham.TenSP)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Username)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.NgayMua)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.SoLuong)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.TongTien)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.SanPham.TenSP)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.IDHistory }) |
            @Html.ActionLink("Details", "Details", new { id=item.IDHistory }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.IDHistory })
        </td>
    </tr>
}

</table>*@
